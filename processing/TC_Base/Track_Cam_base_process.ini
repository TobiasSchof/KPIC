# KPIC FIU Tracking Camera processesing initialization file
#
#
# WARNING: the lack of spaces between commas is a functional choice. If spaces
# are added, scripts may break (as no strip is applied to this data)

[Communication]
# Default location to store Track Cam process debug file
debug_log:  /nfiudata/LOGS/Track_Cam_base_process.log

[Environment]
# Command to start control script
# to use with Popen: split by "|" and then split beginning by " "
start_command: tmux new-window -t Track_Cam:1 -n base_proc|tmux send-keys -t Track_Cam:base_proc "Track_Cam_base_process_Control" Enter
# Command to end control script
end_command:   tmux kill-window -t Track_Cam:base_proc

[Shm Info]
# Shared memory to store how many frames to use in
#   the rolling average
Avg_cnt: /tmp/Base_Process/AVG.shm,uint8,0

# Shared memory to store some basic settings
#
# Values are as follows:
#   bit 0 (LSB): process status          (1 = processing, 0 = not)
#       1      : calibration subtraction (1 = subtract, 0 = don't)
#       2      : median filter           (1 = on, 0 = off)
Stat:     /tmp/Base_Process/STAT.shm,uint8,0

# Shared memory to store the reference image 
#   to be subtracted (subtraction determined by Stat)
#
#   NOTE: first pixel should be 0 if this is a raw frame,
#       anything else if it includes a bias
Calib:     /tmp/Base_Process/CAL.shm,int16,0

# Shared memory for the processed image
Base_proc:    /tmp/Base_Process/PROC.im.shm,int16,1

# Shared memory to store any errors
#
# Error values are as follows:
#   0 = None // 1 = bias error // 2 = calibration image error //
#   3 = bad pixel map error
Error:   /tmp/Base_Process/ERR.shm,uint8,0